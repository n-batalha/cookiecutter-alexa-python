## FAQ
 
### I don't want to specify versions with each change

In that case, change the image version to `latest`, and remove the `:$(VERSION)` tags of the docker image in the `Makefile`. This isn't good practice but it is handy for an initial rapid development.

>The default container image pull policy is `IfNotPresent`, which causes the Kubelet to not pull an image if it already exists. If you would like to always force a pull, you must specify a pull image policy of `Always` in your .yaml file (`imagePullPolicy: Always`) or specify a `:latest` tag on your image.
That is, if you’re specifying an image with other than the :latest tag, e.g. `myimage:v1`, and there is an image update to that same tag, the Kubelet won’t pull the updated image. You can address this by ensuring that any updates to an image bump the image tag as well (e.g. `myimage:v2`), and ensuring that your configs point to the correct version.
Note: you should avoid using `:latest` tag when deploying containers in production, because this makes it hard to track which version of the image is running and hard to roll back.

From [Kubernetes User Guide - config best practices](http://kubernetes.io/docs/user-guide/config-best-practices/#container-images).

### How do I test requests? I get `403` at each `POST` request to the server.
 
Normally this results from not providing [valid] signatures of the data in the payload. This module already includes tests, but if you run a server on your own and want to interact with it, you'll find that by default your `POST` requests will fail with `403 FORBIDDEN`. This is because [Alexandra](https://github.com/erik/alexandra) validates the data sent over the `POST` request. Each request must carry a `SignatureCertChainUrl` and `Signature` header listing the url for the Amazon certificate and the signature generated by running Amazon's private key on the data payload sent with the request. For example, you would want to run something like this:

```
curl -v -k http://localhost:8088/ \
  -H "Content-Type: application/json" \
  -H "SignatureCertChainUrl: https://s3.amazonaws.com/echo.api/echo-api-cert-2.pem" \
  -H "Signature: OMEN68E8S0H9vTHRBVQMmWxeXLV8hpQoodoU6NdLAUB12BjGVvOAgCq7LffPDKCW7zXI6wRc3dx0pklYWqZHXbNsMfx8xSN3lqJTYw6zLZGwt2MgcjajHa1AnMbTnZOjrq9WPZuFG0pyJj9ucKB0w/k4r123vOLzVI0pEISo3WTIDsfKMycIpGiNcDHdJIc2LQGG5Bum9TFJuUllpt5c5LQC9g1rKIS2nj55QCQ8a3EeeqDe3N85Sw6OT7k7oPkKVLPee5fAWfkQQqW1fmA7sGIWKDpVTi1Jq46I2MiJM+48m+rxOVEPXky3j8u8+lPWg6vOnKogoXTb52foAurmAA==" \
  --data-binary '{
      "version": "1.0",
      "session": {
        "new": true,
        "sessionId": "session1234",
        "application": {
          "applicationId": "<YOUR_APPLICATION_ID>"
        },
        "attributes": {},
        "user": {
          "userId": null
        }
      },
      "request": {
        "type": "LaunchRequest",
        "requestId": "request5678",
        "timestamp": "2016-07-08T14:33:58Z"
      }
    }'
```

However only Amazon has the private key that is used to generate the `Signature`. If you're keen on testing this, instead of the default app, use `wsgi_app = app.create_wsgi_app(validate_requests=False)`. Then you can use a command like the above, without the signature headers.

### Alexa doesn't find my skill

Be sure that:

  * your still is activated for testing in the Alexa config;
  * your device is set to the right language (note the difference of US and UK English, and I've had difficulties testing in UK English);
  * your voice is being interpreted correctly, use the Alexa companion app to see the requests history (under Settings);
  * your skill was trained successfully. I've experienced bugs where it did not report an error but yet the skill was not made available since training actually failed. Add more ingredients and utterances to force Alexa to retrain it.
  
### Why the long list of commands in the `Makefile`? It only gets in the way.

Along with storing somewhere the most popular commands required, with tab completion for the `Makefile` it makes it easy to run the most common operations. 
Just type `make <TAB>`.